import{_ as w,o,c as a,a as e,q,r as D,s as N,u as j,v as K,x as s,F as x,y as k,z as ee,A as W,b as E,d as Q,t as u,B as y,p as P,f as T,C as te,D as se,E as ne,G as z,H as O,I as U,J as X}from"./entry.cc0ad062.js";import{u as Y,a as oe,_ as ae}from"./useCalcPercent.5d23ad59.js";const ce={},ie={width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},le=e("g",{"data-name":"Layer 2"},[e("g",{"data-name":"close"},[e("rect",{width:"24",height:"24",transform:"rotate(180 12 12)",opacity:"0"}),e("path",{d:"M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z"})])],-1),_e=[le];function de(t,c){return o(),a("svg",ie,_e)}const re=w(ce,[["render",de]]);const ue={class:"screenshots"},pe=["src"],he=["src","alt","onClick"],me={class:"full-screen__header"},ve={class:"main"},ge=["src"],fe={class:"full-screen__footer"},ye={__name:"Screenshots",props:{gameId:{type:String,required:!0}},emits:["isFullScreen"],async setup(t,{emit:c}){let r,g;const h=c,n=t,{data:b}=([r,g]=q(()=>Y(`/api/games/${n.gameId}/screenshots`,"$kCYhEIYomW")),r=await r,g(),r),l=D(null);function C(_){l.value=_}const p=N(()=>{var _,d;return l.value?l.value:(d=(_=b.value)==null?void 0:_.results[0])==null?void 0:d.image}),F=D(null),A=D(!1);function Z(){A.value=!0}function R(_){A.value&&F.value.scrollTo(F.value.scrollLeft-_.movementX,0)}function V(){A.value=!1}const f=D(!1),v=D(0),H=()=>{f.value=!0,v.value=n.list.findIndex(_=>_.image===p.value),h("isFullScreen",f.value)},B=()=>{!n.list.length||v.value<=0||(v.value--,C(n.list[v.value].image))},L=()=>{!n.list.length||v.value>=n.list.length-1||(v.value++,C(n.list[v.value].image))},$=()=>{f.value=!1,h("isFullScreen",f.value)},S=_=>{f.value&&(_.key==="ArrowLeft"&&B(),_.key==="ArrowRight"&&L(),_.key==="Escape"&&$())};return j(()=>{document.addEventListener("keydown",S)}),K(()=>{document.removeEventListener("keydown",S)}),(_,d)=>{var I,M;const G=re;return o(),a("div",ue,[e("img",{class:"screenshots__display",src:s(p),alt:"1",onClick:d[0]||(d[0]=i=>H())},null,8,pe),e("div",{ref_key:"screenshotsList",ref:F,class:"screenshots__list",onMousedown:Z,onMousemove:R,onMouseup:V,onMouseleave:V},[(o(!0),a(x,null,k((I=s(b))==null?void 0:I.results,i=>(o(),a("img",{key:i.id,class:ee(["screenshots__item",{selected:s(p)===i.image}]),src:i.image,alt:i.id,onClick:Et=>C(i.image),onMousedown:d[1]||(d[1]=W(()=>{},["prevent"]))},null,42,he))),128))],544),s(f)?(o(),a("div",{key:0,class:"full-screen__wrap",onClick:d[4]||(d[4]=i=>$())},[s(f)?(o(),a("div",{key:0,class:"full-screen",onClick:d[3]||(d[3]=W(()=>{},["stop"]))},[e("header",me,[e("button",{class:"btn-close",onClick:d[2]||(d[2]=i=>$())},[E(G)])]),e("main",ve,[e("img",{src:s(p),alt:"0",onClick:L},null,8,ge)]),e("footer",fe,[e("button",{class:"btn btn-prev",onClick:B}," Prev "),Q(" "+u(s(v)+1)+" of "+u((M=s(b))==null?void 0:M.results.length)+" screenshots ",1),e("button",{class:"btn btn-next",onClick:L}," Next ")])])):y("",!0)])):y("",!0)])}}},be=w(ye,[["__scopeId","data-v-8a6e1a9e"]]);const Ce=t=>(P("data-v-a026b227"),t=t(),T(),t),xe={class:"description"},$e=Ce(()=>e("div",{class:"description__title"}," About ",-1)),ke={class:"description__text"},we={__name:"Description",props:{text:{type:String,default:null}},setup(t){const c=t;return(r,g)=>(o(),a("div",xe,[$e,e("p",ke,u(c.text),1)]))}},Le=w(we,[["__scopeId","data-v-a026b227"]]);const Se=t=>(P("data-v-21433f3f"),t=t(),T(),t),Ie={class:"stores"},Me=Se(()=>e("div",{class:"stores__title"}," Where to buy: ",-1)),De={class:"stores__list"},Ee=["href"],Fe=["src","alt"],Ae={class:"store__text"},Ve=["href"],Be={__name:"Stores",props:{gameId:{type:String,required:!0}},async setup(t){let c,r;const g=t,{data:h}=([c,r]=q(()=>Y(`/api/games/${g.gameId}/stores`,"$EG83duZfan")),c=await c,r(),c);function n(b){const l=new URL(b).hostname;switch(!0){case l.includes("apple"):return"App Store";case l.includes("playstation"):return"PlayStation";case l.includes("microsoft"):return"Microsoft";case l.includes("steam"):return"Steam";case l.includes("gog"):return"GOG";case l.includes("xbox"):return"Xbox";case l.includes("nintendo"):return"Nintendo";case l.includes("google"):return"Google Play";case l.includes("epicgames"):return"Epic Games";default:return"Some kind of store"}}return(b,l)=>{var C;return o(),a("div",Ie,[Me,e("div",De,[(o(!0),a(x,null,k((C=s(h))==null?void 0:C.results,p=>(o(),a("a",{key:p.id,href:p.url,class:"store",target:"_blank"},[e("img",{class:"store__logo",src:`/img/stores/${n(p.url)}.png`,alt:n(p.url)},null,8,Fe),e("p",Ae,u(n(p.url)),1),e("span",{class:"store__btn",href:p.url},"Buy",8,Ve)],8,Ee))),128))])])}}},Ge=w(Be,[["__scopeId","data-v-21433f3f"]]);const ze=t=>(P("data-v-dd121b94"),t=t(),T(),t),Ne=["width","height"],Pe=te('<g clip-path="url(#clip0_320_29)" data-v-dd121b94><path d="M42.1971 111.897L26.6144 94.0066C13.1097 78.5004 10.6242 56.251 20.3717 38.1475L20.3757 38.1413C28.2251 23.5656 43.4438 14.4736 60.0006 14.4736C76.5574 14.4736 91.7761 23.5656 99.6255 38.1413L99.6276 38.1475C109.377 56.251 106.89 78.5004 93.3849 94.0066L77.8044 111.897C68.3938 122.701 51.6075 122.701 42.1971 111.897Z" fill="#546A79" data-v-dd121b94></path><path d="M66.2033 8.27115H53.7966V3.02924C53.7966 1.35652 55.1532 0 56.8259 0H63.1739C64.8466 0 66.2031 1.35652 66.2031 3.02924V8.27115H66.2033Z" fill="#ECF0F1" data-v-dd121b94></path><path d="M29.8399 16.1444L21.0662 24.918L17.361 21.2104C16.1782 20.0276 16.1782 18.1087 17.361 16.9259L21.848 12.4389C23.0327 11.2542 24.9497 11.2542 26.1344 12.4389L29.8399 16.1444Z" fill="#ECF0F1" data-v-dd121b94></path><path d="M90.0574 16.1444L98.831 24.918L102.537 21.2104C103.719 20.0276 103.719 18.1087 102.537 16.9259L98.0495 12.4389C96.8648 11.2542 94.9478 11.2542 93.7631 12.4389L90.0574 16.1444Z" fill="#ECF0F1" data-v-dd121b94></path><path d="M37.2698 20.65L31.3021 14.6823L19.6047 26.3796L24.7556 31.5305C28.2481 27.1283 32.4933 23.4455 37.2698 20.65Z" fill="#BDC3C7" data-v-dd121b94></path><path d="M60.0002 14.4745C62.8083 14.4745 65.5706 14.7557 68.2713 15.2623V8.27115H51.729V15.2623C54.4297 14.7557 57.1923 14.4745 60.0002 14.4745Z" fill="#BDC3C7" data-v-dd121b94></path><path d="M95.1992 31.4726L100.292 26.3796L88.5948 14.6823L82.6646 20.6126C87.4451 23.4021 91.7006 27.0745 95.1992 31.4726Z" fill="#BDC3C7" data-v-dd121b94></path><path d="M73.9091 68.2367H46.0912C40.0698 68.2367 35.1877 63.3546 35.1877 57.3312V46.0577C35.1877 40.0342 40.0698 35.1521 46.0912 35.1521H73.9091C79.9325 35.1521 84.8146 40.0342 84.8146 46.0577V57.3312C84.8146 63.3546 79.9325 68.2367 73.9091 68.2367Z" fill="#48A0DC" data-v-dd121b94></path><path d="M68.2713 101.321C68.2713 96.7532 64.568 93.0499 60.0002 93.0499C55.4323 93.0499 51.729 96.7532 51.729 101.321C51.729 105.889 55.4323 109.592 60.0002 109.592C64.568 109.592 68.2713 105.889 68.2713 101.321Z" fill="#8697CB" data-v-dd121b94></path></g><defs data-v-dd121b94><clipPath id="clip0_320_29" data-v-dd121b94><rect width="120" height="120" fill="white" data-v-dd121b94></rect></clipPath></defs>',2),Te=[Pe],Ze={class:"time"},Re=ze(()=>e("small",null,"h",-1)),He={__name:"Timer",props:{width:{type:Number,default:120},height:{type:Number,default:120},time:{type:Number,default:0}},setup(t){const c=t;return(r,g)=>(o(),a(x,null,[(o(),a("svg",{class:"timer",width:c.width,height:c.height,viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Te,8,Ne)),e("div",Ze,[Q(u(c.time),1),Re])],64))}},Oe=w(He,[["__scopeId","data-v-dd121b94"]]),J=t=>{const c=n=>n<10?"0"+n:n;t=new Date(t);const r=t.getFullYear(),g=c(t.getMonth()+1);return c(t.getDate())+"."+g+"."+r},qe=U(()=>X(()=>import("./Additions.adcde4e8.js"),["./Additions.adcde4e8.js","./GameCard.e1c3ab29.js","./entry.cc0ad062.js","./entry.b51f4abf.css","./useCalcPercent.5d23ad59.js","./useCalcPercent.ba6d1e19.css","./GameCard.64490796.css","./Additions.a4a8bc4b.css"],import.meta.url).then(t=>t.default||t)),Ue=U(()=>X(()=>import("./Series.1f9407ca.js"),["./Series.1f9407ca.js","./GameCard.e1c3ab29.js","./entry.cc0ad062.js","./entry.b51f4abf.css","./useCalcPercent.5d23ad59.js","./useCalcPercent.ba6d1e19.css","./GameCard.64490796.css","./Series.d2aadb1c.css"],import.meta.url).then(t=>t.default||t)),Xe=U(()=>X(()=>import("./Achievements.3ac5bb92.js"),["./Achievements.3ac5bb92.js","./useCalcPercent.5d23ad59.js","./entry.cc0ad062.js","./entry.b51f4abf.css","./useCalcPercent.ba6d1e19.css","./Achievements.8721cef1.css"],import.meta.url).then(t=>t.default||t)),m=t=>(P("data-v-bcf38e71"),t=t(),T(),t),Ye={key:1,class:"content"},We={class:"title"},Je={class:"sidebar"},Qe={class:"dev-wrapper"},je={class:"dev-container"},Ke={class:"developers"},et=m(()=>e("div",{class:"developers__title"}," Developers: ",-1)),tt={class:"publishers"},st=m(()=>e("div",{class:"publishers__title"}," Publishers: ",-1)),nt={class:"dev-container"},ot={class:"released"},at=m(()=>e("div",{class:"released__title"}," Released: ",-1)),ct={class:"released__date"},it={class:"updated"},lt=m(()=>e("div",{class:"updated__title"}," Updated: ",-1)),_t={class:"updated__date"},dt={class:"dev-container"},rt={class:"genres"},ut=m(()=>e("div",{class:"genres__title"}," Genres: ",-1)),pt={class:"tags"},ht=m(()=>e("div",{class:"tags__title"}," Tags: ",-1)),mt={class:"rating-wrapper"},vt={key:0,class:"rating"},gt=m(()=>e("div",{class:"dot"},null,-1)),ft=m(()=>e("svg",null,[e("circle",{cx:"50",cy:"50",r:"50"}),e("circle",{cx:"50",cy:"50",r:"50"})],-1)),yt={class:"number"},bt=m(()=>e("p",null,"Rating",-1)),Ct={key:1,class:"metacritic"},xt=m(()=>e("div",{class:"dot"},null,-1)),$t=m(()=>e("svg",null,[e("circle",{cx:"50",cy:"50",r:"50"}),e("circle",{cx:"50",cy:"50",r:"50"})],-1)),kt={class:"number"},wt=m(()=>e("p",null,"Metacritic",-1)),Lt={key:2,class:"esrb-rating"},St=["src","alt"],It={key:3,class:"playtime"},Mt={class:"additional"},Dt=se({__name:"[id]",async setup(t){let c,r;const h=ne().params.id,{data:n,pending:b}=([c,r]=q(()=>Y(`/api/games/${h}`,"$4mBXb0llnQ")),c=await c,r(),c),l=N(()=>oe(n.value.rating,5)),C=N(()=>J(n.value.released)),p=N(()=>J(n.value.updated));return(F,A)=>{var $,S,_,d,G,I,M;const Z=ae,R=be,V=Le,f=Ge,v=Oe,H=qe,B=Ue,L=Xe;return o(),a("main",{class:"main",style:O([{background:`no-repeat center url(${($=s(n))==null?void 0:$.background_image}) fixed`},{"background-size":"cover"}])},[s(b)?(o(),z(Z,{key:0})):(o(),a("div",Ye,[e("div",We,u(s(n).name),1),E(R,{class:"screenshots",gameId:s(h)},null,8,["gameId"]),(S=s(n).description_raw)!=null&&S.length?(o(),z(V,{key:0,class:"description",text:s(n).description_raw},null,8,["text"])):y("",!0),e("div",Je,[e("div",Qe,[e("div",je,[e("div",Ke,[et,(o(!0),a(x,null,k(s(n).developers,i=>(o(),a("div",{key:i.id,class:"developer"},u(i.name),1))),128))]),e("div",tt,[st,(o(!0),a(x,null,k(s(n).publishers,i=>(o(),a("div",{key:i.id,class:"publisher"},u(i.name),1))),128))])]),e("div",nt,[e("div",ot,[at,e("div",ct,u(s(C)),1)]),e("div",it,[lt,e("div",_t,u(s(p)),1)])]),e("div",dt,[e("div",rt,[ut,(o(!0),a(x,null,k(s(n).genres,i=>(o(),a("div",{key:i.id,class:"genre"},u(i.name),1))),128))]),e("div",pt,[ht,(o(!0),a(x,null,k(s(n).tags,i=>(o(),a("div",{key:i.id,class:"tag"},u(i.name),1))),128))])])]),E(f,{class:"stores",gameId:s(h)},null,8,["gameId"]),e("div",mt,[s(l)?(o(),a("div",vt,[e("div",{class:"percent",style:O({"--clr":"#04fc43","--num":s(l)})},[gt,ft,e("div",yt,[e("h2",null,u(s(l)),1),bt])],4)])):y("",!0),s(n).metacritic?(o(),a("div",Ct,[e("div",{class:"percent",style:O({"--clr":"#04fc43","--num":s(n).metacritic})},[xt,$t,e("div",kt,[e("h2",null,u(s(n).metacritic),1),wt])],4)])):y("",!0),(_=s(n).esrb_rating)!=null&&_.name?(o(),a("div",Lt,[e("img",{src:`/img/esrb/${(d=s(n).esrb_rating)==null?void 0:d.name}.png`,alt:(G=s(n).esrb_rating)==null?void 0:G.name},null,8,St)])):y("",!0),s(n).playtime?(o(),a("div",It,[E(v,{time:s(n).playtime},null,8,["time"])])):y("",!0)])]),e("div",Mt,[E(H,{class:"additions",gameId:s(h)},null,8,["gameId"]),(I=s(n))!=null&&I.id?(o(),z(B,{key:0,class:"game-series",gameId:s(h)},null,8,["gameId"])):y("",!0),(M=s(n))!=null&&M.id?(o(),z(L,{key:1,class:"achievements",gameId:s(h)},null,8,["gameId"])):y("",!0)])]))],4)}}});const Vt=w(Dt,[["__scopeId","data-v-bcf38e71"]]);export{Vt as default};
